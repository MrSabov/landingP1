<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>–•–æ–ª–æ—Å—Ç—è–∫ BINGO</title>
    <style>
        :root {
            --bg: radial-gradient(circle at top, rgba(255, 75, 122, 1) 0%, rgba(90, 0, 21, 0.85) 40%, rgba(26, 0, 5, 0.85) 100%),
            url("card-bg.png") no-repeat center / cover;
            --accent: #f9d18b;
            --text: #ffeaea;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: system-ui, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: var(--bg);
            color: var(--text);
        }

        .wrapper {
            width: min(480px, 95%);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            text-align: center;
            position: relative;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(10px);
        }

        h1 {
            color: var(--accent);
            letter-spacing: .1em;
            font-size: 30px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        /* üîπ –ü–ª–∞—à–∫–∞ –ø—Ä–∞–≤–∏–ª */
        .rules {
            position: absolute;
            top: 14px;
            right: 18px;
            background: rgba(249, 209, 139, 0.1);
            color: var(--accent);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 2px 10px;
            font-size: 14px;
            cursor: pointer;
            transition: 0.2s;
        }

        .rules:hover {
            background: rgba(249, 209, 139, 0.25);
        }

        .tooltip {
            position: absolute;
            top: 42px;
            right: 14px;
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid var(--accent);
            border-radius: 10px;
            padding: 10px;
            color: #fff;
            width: 260px;
            font-size: 13px;
            text-align: left;
            opacity: 0;
            pointer-events: none;
            backdrop-filter: blur(4px);
            transition: opacity 0.25s ease;
            line-height: 1.3em;
            z-index: 10;
        }

        .rules:hover + .tooltip {
            opacity: 1;
            pointer-events: auto;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            margin-bottom: 16px;
        }

        .cell {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            position: relative;
            text-transform: uppercase;
            transition: all .2s ease;
            white-space: normal;
            overflow-wrap: break-word;
            word-break: break-word;
        }

        .cell:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .cell.marked {
            color: #fff;
            background: rgba(180, 0, 40, 0.8);
            filter: blur(1px) brightness(1.3);
            box-shadow: 0 0 10px rgba(249, 209, 139, 0.6);
        }

        .cell .rose {
            position: absolute;
            font-size: 28px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            animation: popIn 0.25s ease forwards;
        }

        @keyframes popIn {
            to {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        button {
            background: linear-gradient(135deg, rgba(249, 209, 139, 0.15), rgba(249, 209, 139, 0.05));
            border: 1px solid var(--accent);
            color: var(--accent);
            border-radius: 999px;
            padding: 8px 18px;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: .05em;
            cursor: pointer;
            transition: .2s;
        }

        button:hover {
            background: var(--accent);
            color: #400;
        }

        .bingo-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity .5s ease;
        }

        .bingo-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .bingo-text {
            font-size: 64px;
            color: var(--accent);
            animation: pop 0.9s ease-out infinite alternate;
            text-shadow: 0 0 20px var(--accent);
        }

        @keyframes pop {
            from {
                transform: scale(1);
            }
            to {
                transform: scale(1.1);
            }
        }

        .restart-btn {
            margin-top: 24px;
            background: var(--accent);
            color: #3b0010;
            border: none;
            border-radius: 30px;
            padding: 10px 24px;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
        }

        .restart-btn:hover {
            filter: brightness(1.1);
        }
    </style>
</head>
<body>
<div class="wrapper">
    <h1>–•–æ–ª–æ—Å—Ç—è–∫ BINGO ü•Ç</h1>
    <div class="rules">–ü—Ä–∞–≤–∏–ª–∞ ‚ÑπÔ∏è</div>
    <div class="tooltip">
        üéØ <b>–ú–µ—Ç–∞ –≥—Ä–∏:</b> –ü–æ–∑–Ω–∞—á–∞–π –∫–ª—ñ—Ç–∏–Ω–∫–∏, –∫–æ–ª–∏ —á—É—î—à –∞–±–æ –±–∞—á–∏—à —Å–ª–æ–≤–æ –∑ —à–æ—É.<br><br>
        üèÅ <b>–Ø–∫ –≤–∏–≥—Ä–∞—Ç–∏:</b> –ü–µ—Ä—à–∏–π, —Ö—Ç–æ –∑–∞–ø–æ–≤–Ω–∏—Ç—å —Ä—è–¥, —Å—Ç–æ–≤–ø–µ—Ü—å –∞–±–æ –¥—ñ–∞–≥–æ–Ω–∞–ª—å ‚Äî –∫—Ä–∏—á–∏—Ç—å ‚Äú–ë–Ü–ù–ì–û!‚Äù.<br><br>
        üåπ <b>–ü–æ—Ä–∞–¥–∞:</b> –î–æ–¥–∞–π –±–æ–∫–∞–ª –≤–∏–Ω–∞ —ñ –¥–æ–±—Ä–∏–π –Ω–∞—Å—Ç—Ä—ñ–π ‚Äî —Ü–µ —á–∞—Å—Ç–∏–Ω–∞ –≥—Ä–∏ üç∑
    </div>

    <div class="grid" id="grid"></div>
    <button id="new">–ù–æ–≤–∞ –∫–∞—Ä—Ç–∫–∞</button>
</div>

<div class="bingo-overlay" id="overlay">
    <div class="bingo-text">BINGO! üåπ</div>
    <button class="restart-btn" id="restart">–ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
</div>

<script>
    const WORDS = [
        "–æ–ø–∞", "–ø—Ä–∏–∫–æ–ª—å–Ω–æ", "–±–µ–∑–∫–æ–º–ø—Ä–æ–º—ñ—Å–Ω–∞", "—ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞",
        "–∫—Ä—É—Ç–æ", "–≤—ñ–¥–∫—Ä–∏—Ç–∞", "–ø—ñ–¥—Å—Ç–∞–≤–∞", "–º—É–∂–Ω—ñ–π",
        "—Ç—Ä–æ—è–Ω–¥–∞", "–µ–º–æ—Ü—ñ—ó", "—ñ–¥–µ–∞–ª—å–Ω–∏–π", "–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—è",
        "–¥—Ä–∞–º–∞", "—â–∏—Ä—ñ—Å—Ç—å", "—Ö—ñ–º—ñ—è", "—Å–ª—å–æ–∑–∏",
        "—Å–ø—Ä–∞–≤–∂–Ω—è", "–Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ", "–ø–æ–±–∞—á–µ–Ω–Ω—è", "—ñ–Ω—Ç—Ä–∏–≥–∞",
        "–∑—ñ–∑–Ω–∞–Ω–Ω—è", "–Ω–µ–∑—Ä—É—á–Ω–æ", "—Ç–æ–∫—Å–∏—á–Ω–∞", "—Ç—Ä–µ—à",
        "—Å–∏–º–ø–∞—Ç—ñ—è", "—Ä–µ–∞–ª—å–Ω–æ", "–¥–æ–±—Ä–∏–π", "–ø–æ—á—É—Ç—Ç—è",
        "—Å—é—Ä–ø—Ä–∏–∑", "–ø–æ–¥–∞—Ä—É–Ω–æ–∫", "–¥—è–∫—É—é", "–≤–∏–±–∞—á",
        "—Ü—ñ–∫–∞–≤–æ", "–æ–∫–µ–π", "—Å–µ—Ä–π–æ–∑–Ω–æ", "–æ–≥–æ"
    ];

    const gridEl = document.getElementById("grid");
    const overlay = document.getElementById("overlay");
    const restart = document.getElementById("restart");

    function shuffle(arr) {
        const a = arr.slice();
        for (let i = a.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
    }

    function generateCard() {
        const chosen = shuffle(WORDS).slice(0, 16);
        gridEl.innerHTML = "";
        chosen.forEach(word => {
            const div = document.createElement("div");
            div.className = "cell";
            div.textContent = word;
            div.addEventListener("click", () => toggle(div));
            gridEl.appendChild(div);
        });
    }

    function toggle(cell) {
        if (cell.classList.contains("marked")) {
            cell.classList.remove("marked");
            cell.querySelector(".rose")?.remove();
        } else {
            cell.classList.add("marked");
            const icons = ["üåπ", "üçì", "üíã", "ü•Ç", "üî•"];
            const rose = document.createElement("span");
            rose.textContent = icons[Math.floor(Math.random() * icons.length)];
            rose.className = "rose";
            cell.appendChild(rose);
        }
        checkBingo();
    }

    function checkBingo() {
        const cells = [...document.querySelectorAll(".cell")];
        const size = 4; // cause this is 4x4 grid
        const marked = cells.map(c => c.classList.contains("marked"));

        let bingo = false;

        for (let row = 0; row < size; row++) {
            const start = row * size;
            const end = start + size;
            const rowCells = marked.slice(start, end);
            if (rowCells.every(Boolean)) {
                bingo = true;
                break;
            }
        }

        for (let col = 0; col < size && !bingo; col++) {
            const column = marked.filter((_, i) => i % size === col);
            if (column.every(Boolean)) {
                bingo = true;
                break;
            }
        }

        const diag1 = [0, 5, 10, 15].map(i => marked[i]); // ‚ÜòÔ∏è
        const diag2 = [3, 6, 9, 12].map(i => marked[i]); // ‚ÜôÔ∏è
        if (diag1.every(Boolean) || diag2.every(Boolean)) {
            bingo = true;
        }

        if (bingo) {
            overlay.classList.add("active");
        }
    }


    document.getElementById("new").addEventListener("click", generateCard);
    restart.addEventListener("click", () => {
        overlay.classList.remove("active");
        generateCard();
    });

    generateCard();
</script>
</body>
</html>
