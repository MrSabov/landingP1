<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–•–æ–ª–æ—Å—Ç—è–∫ BINGO</title>
  <style>
    :root {
      --bg: radial-gradient(circle at top, rgba(255, 75, 122, 1) 0%, rgba(90, 0, 21, 0.85) 40%, rgba(26, 0, 5, 0.85) 100%),
      url("card-bg.png") no-repeat center / cover;
      --accent: #f9d18b;
      --text: #ffeaea;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: var(--bg);
      color: var(--text);
    }

    .wrapper {
      width: min(520px, 95%);
      background: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 20px;
      text-align: center;
      position: relative;
    }

    h1 {
      color: var(--accent);
      font-size: 30px;
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: 14px;
    }

    .grid-wrapper {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 4px;
      align-items: start;
    }

    .left-letters {
      display: grid;
      grid-template-rows: repeat(5, 1fr);
      gap: 6px;
      margin-top: 32px;
      justify-items: center;
    }

    .top-letters {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 6px;
      margin-left: 32px;
      justify-items: center;
      margin-bottom: 6px;
    }

    .letter {
      font-size: 20px;
      color: rgba(255,255,255,0.5);
      transition: 0.3s;
    }
    .letter.active {
      color: var(--accent);
      text-shadow: 0 0 8px var(--accent);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(4, 1fr);
      gap: 6px;
    }

    .cell {
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: rgba(255,255,255,0.6);
      cursor: pointer;
      position: relative;
      text-transform: uppercase;
      white-space: normal;
      overflow-wrap: break-word;
      word-break: break-word;
      transition: all .2s ease;
    }

    .cell:hover { background: rgba(255,255,255,0.12); }

    .cell.marked {
      color: #fff;
      background: rgba(180, 0, 40, 0.8);
      filter: blur(1px) brightness(1.3);
      box-shadow: 0 0 10px rgba(249,209,139,0.6);
    }

    .cell .rose {
      position: absolute;
      font-size: 26px;
      top: 50%;
      left: 50%;
      transform: translate(-50%,-50%) scale(0);
      animation: popIn .25s ease forwards;
    }

    @keyframes popIn {
      to { transform: translate(-50%,-50%) scale(1); }
    }

    button {
      background: transparent;
      border: 1px solid var(--accent);
      color: var(--accent);
      border-radius: 999px;
      padding: 8px 18px;
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: .05em;
      cursor: pointer;
      transition: .2s;
    }
    button:hover { background: var(--accent); color: #400; }

    .bingo-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transition: opacity .5s ease;
    }

    .bingo-overlay.active { opacity: 1; pointer-events: all; }

    .bingo-text {
      font-size: 64px;
      color: var(--accent);
      animation: pop 0.9s ease-out infinite alternate;
      text-shadow: 0 0 20px var(--accent);
    }

    @keyframes pop { from {transform:scale(1);} to {transform:scale(1.1);} }

    .restart-btn {
      margin-top: 24px;
      background: var(--accent);
      color: #3b0010;
      border: none;
      border-radius: 30px;
      padding: 10px 24px;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
    }
    .restart-btn:hover { filter: brightness(1.1); }

  </style>
</head>
<body>
<div class="wrapper">
  <h1>–•–æ–ª–æ—Å—Ç—è–∫ BINGO üåπ</h1>

  <div class="grid-wrapper">
    <div class="left-letters" id="leftLetters">
      <div class="letter">B</div>
      <div class="letter">I</div>
      <div class="letter">N</div>
      <div class="letter">G</div>
      <div class="letter">O</div>
    </div>

    <div>
      <div class="top-letters" id="topLetters">
        <div class="letter">B</div>
        <div class="letter">I</div>
        <div class="letter">N</div>
        <div class="letter">G</div>
        <div class="letter">O</div>
      </div>
      <div class="grid" id="grid"></div>
    </div>
  </div>

  <button id="new">–ù–æ–≤–∞ –∫–∞—Ä—Ç–∫–∞</button>
</div>

<div class="bingo-overlay" id="overlay">
  <div class="bingo-text">BINGO! ü•Ç</div>
  <button class="restart-btn" id="restart">–ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
</div>

<script>
const WORDS = [
  "–æ–ø–∞","–ø—Ä–∏–∫–æ–ª—å–Ω–æ","–±–µ–∑–∫–æ–º–ø—Ä–æ–º—ñ—Å–Ω–∞","—ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∞",
  "–∫—Ä—É—Ç–æ","–≤—ñ–¥–∫—Ä–∏—Ç–∞","–ø—ñ–¥—Å—Ç–∞–≤–∞","–º—É–∂–Ω—ñ–π",
  "—Ç—Ä–æ—è–Ω–¥–∞","–µ–º–æ—Ü—ñ—ó","—ñ–¥–µ–∞–ª—å–Ω–∏–π","–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—è",
  "–¥—Ä–∞–º–∞","—â–∏—Ä—ñ—Å—Ç—å","—Ö—ñ–º—ñ—è","—Å–ª—å–æ–∑–∏",
  "—Å–ø—Ä–∞–≤–∂–Ω—è","–Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ","–ø–æ–±–∞—á–µ–Ω–Ω—è","—Ä–µ–≤–Ω–æ—â—ñ",
  "—ñ–Ω—Ç—Ä–∏–≥–∞","–∑—ñ–∑–Ω–∞–Ω–Ω—è","–Ω–µ–∑—Ä—É—á–Ω–æ","—Ç–æ–∫—Å–∏—á–Ω–∞",
  "—Å–∏–º–ø–∞—Ç—ñ—è","–º–∞—Å–∫—É–ª—ñ–Ω–Ω—ñ—Å—Ç—å","—Ä–µ–∞–ª—å–Ω–æ","–¥–æ–±—Ä–∏–π","—Å—é—Ä–ø—Ä–∏–∑","–ø–æ–¥–∞—Ä—É–Ω–æ–∫"
];

const gridEl = document.getElementById("grid");
const overlay = document.getElementById("overlay");
const restart = document.getElementById("restart");
const topLetters = document.querySelectorAll("#topLetters .letter");
const leftLetters = document.querySelectorAll("#leftLetters .letter");

function shuffle(arr){
  const a=arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function generateCard(){
  const chosen=shuffle(WORDS).slice(0,16);
  gridEl.innerHTML="";
  chosen.forEach((word,i)=>{
    const div=document.createElement("div");
    div.className="cell";
    div.textContent=word;
    div.dataset.row=Math.floor(i/4);
    div.dataset.col=i%4;
    div.addEventListener("click",()=>toggle(div));
    gridEl.appendChild(div);
  });
  resetLetters();
}

function toggle(cell){
  if(cell.classList.contains("marked")){
    cell.classList.remove("marked");
    cell.querySelector(".rose")?.remove();
  } else {
    cell.classList.add("marked");
    const icons=["üåπ","üçì","üíã","ü•Ç","üî•"];
    const rose=document.createElement("span");
    rose.textContent=icons[Math.floor(Math.random()*icons.length)];
    rose.className="rose";
    cell.appendChild(rose);
  }
  checkLines();
}

function resetLetters(){
  [...topLetters,...leftLetters].forEach(l=>l.classList.remove("active"));
}

function checkLines(){
  const cells=[...document.querySelectorAll(".cell")];
  const marked=cells.map(c=>c.classList.contains("marked")?1:0);
  const size=4;

  let bingo=false;

  // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—è–¥–∫—ñ–≤ —ñ –∫–æ–ª–æ–Ω–æ–∫
  for(let i=0;i<size;i++){
    const row=marked.slice(i*size,i*size+size);
    const col=marked.filter((_,idx)=>idx%size===i);
    if(row.every(Boolean)){
      leftLetters[i+1]?.classList.add("active");
      bingo=true;
    }
    if(col.every(Boolean)){
      topLetters[i+1]?.classList.add("active");
      bingo=true;
    }
  }

  // –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—ñ–∞–≥–æ–Ω–∞–ª–µ–π
  const diag1=[0,5,10,15].map(i=>marked[i]);
  const diag2=[3,6,9,12].map(i=>marked[i]);
  if(diag1.every(Boolean)||diag2.every(Boolean)) bingo=true;

  if(bingo) overlay.classList.add("active");
}

document.getElementById("new").addEventListener("click",generateCard);
restart.addEventListener("click",()=>{
  overlay.classList.remove("active");
  generateCard();
});
generateCard();
</script>
</body>
</html>
